\input{preambuloSimple.tex}


%----------------------------------------------------------------------------------------
%	TÍTULO Y DATOS DEL ALUMNO
%----------------------------------------------------------------------------------------

\title{	
\begin{figure}[h]
	\centering
	\includegraphics[width=0.7\textwidth]{imagenes/logo_ugr}
\end{figure}
\normalfont \normalsize
\textsc{{ \\ \bf Trabajo Fin de Grado (2016-2017)} \\ Grado en Ingeniería Informática \\ Universidad de Granada} \\ [25pt] % Your university, school and/or department name(s)
\horrule{0.5pt} \\[0.4cm] % Thin top horizontal rule
\huge drawercloud \\ % The assignment title
\horrule{2pt} \\[0.5cm] % Thick bottom horizontal rule
}

\author{\textbf{Autor}: José Manuel Rejón Santiago \\ \textbf{Tutor}: Prof. Dr. Jose María Guirao Miras} % Nombre y apellidos

\date{\normalsize\today} % Incluye la fecha actual


%----------------------------------------------------------------------------------------
% DOCUMENTO
%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Muestra el Título

\newpage %inserta un salto de página

\tableofcontents % para generar el índice de contenidos

\listoffigures

\listoftables

\newpage

\section{Sobre drawercloud}
\subsection{Resumen}
\hfill
\begin{figure}[h]
	\centering
	\includegraphics[width=0.7\textwidth]{imagenes/logo_ugr}
\end{figure}
\hfill
\begin{center}
	\horrule{0.5pt} \\[0.4cm] % Thin top horizontal rule
	\huge \textbf{drawercloud} \\ % The assignment title
	\Large Almacenamiento de archivos en la nube \\ % The assignment title
	\horrule{2pt} \\[0.5cm] % Thick bottom horizontal rule
\end{center}

\hfill

\textbf{drawercloud} es una aplicación web para el alojamiento de archivos en la nube. Los usuarios podrán realizar diversas tareas sobre sus archivos, como por ejemplo: 
\begin{itemize}
	\item Añadir/Eliminar archivos en la nube.
	\item Reproducir archivos multimedia.
	\item Organizar archivos en directorios.
	\item Compartir archivos.
	\item Descargar en un dispositivo (pc, tablet, smartphone).
	\item ...
\end{itemize}
De este modo, conseguiremos tener nuestros archivos almacenados en un servidor web, ahorrando espacio en nuestros dispositivos y con la seguridad de tener nuestro material a salvo en otro lugar. Además de estas \\

Para el desarrollo de la web usaremos \textbf{Django} \cite{cita1}, que es un framework para aplicaciones web gratuito y open source, escrito en \textbf{Python} \cite{cita2}. La aplicación web contará con un \textbf{responsive design} para ser adaptada a otros dispositivos (como smartphones o tablets). En el lado del servidor, se usará la tecnología proporcionada por Amazon Web Services o Google.\\

Para el aspecto gráfico usamos la tecnología que nos ofrece \textbf{Twitter Bootstrap} \cite{cita3}, un framework \textbf{HTML} \cite{cita4}, \textbf{CSS} \cite{cita5} y \textbf{JavaScript} \cite{cita6} para lograr un diseño web adaptable (responsive design) entre los distintos dispositivos que puedan hacer uso de la aplicación web. \textbf{Ajax} \cite{cita7} y \textbf{jQuery} \cite{cita8} serán las herramientas elegidas para ofrecer una mejor interacción entre el usuario y la aplicación web. \\

La base de datos será gestionada con \textbf{MongoDB} \cite{cita9}, que es una base de datos orientada a documentos estilo JSON (incluye información del tipo de dato). \\

Drawercloud hace uso de \textbf{EC2} \cite{cita_ec2} (Amazon Virtual Servers), que nos permite alojar la web gratuitamente durante un año y poder acceder a ella desde cualquier dispositivo que se conecte a la red. Como servidor web usamos \textbf{NGINX} \cite{cita_nginx} y \textbf{Gunicorn} \cite{cita_gunicorn} que es un WSGI de Python.\\

Este proyecto está bajo la licencia de software libre, lo que significa que los usuarios tienen la libertad de ejecutar, copiar, distribuir, estudiar, modificar y mejorar el software.

\subsection{Motivación}

Unos de los problemas que surgen en el uso de nuestros dispositivos es el almacenamiento. Es cierto que el precio del \textbf{gigabyte} es cada vez más barato e incluso más rápido (como por ejemplo en los discos duros SSD, que están dotados de un gran incremento de velocidad, además de consumir menos energía) pero, aunque en un ordenador el almacenamiento puede no ser un problema, si que lo es si hablamos de dispositivos móviles como smartphones o tablets. A día de hoy, encontramos dispositivos que no permiten la insercción de tarjetas de almacenamiento flash, lo cual nos obliga a conformarnos con el espacio que el fabricante pone a nuestra disposición (o a comprar el modelo con más capacidad, pero obviamente más caro). \textbf{drawercloud} viene a poner solución a este problema, ofreciendo un espacio personal en un servidor web dedicado para dicha aplicación, de modo que nuestros datos permanecen en tal servidor sin ocupar memoria en nuestros dispositivos. \\

¿Significa esto que solo es una solución para dispositivos que cuentan con un espacio muy limitado? No, ya que otro problema que puede surgirnos con mucha facilidad es la pérdida de información por diversas causas (disco duro roto, pérdida del dispositivo, virus, etc) y para ello este proyecto también ofrece una solución a dicho problema. Podemos almacenar nuestros archivos tanto en el disco duro propio del dispositivo en cuestión, como en el espacio ofrecido en el servidor web, de modo que si nos vemos afectados por alguno de los motivos mencionados, o bien por otros que afectan a la desaparición de nuestra información, tengamos una copia en otro lugar y no perdamos nuestros archivos. \\

Otro caso en el que esta aplicación resulta interesante es que podemos disponer de nuestros datos en cualquier parte. A modo de ejemplo, podemos pensar en un archivo que estamos modificando en casa y en nuestro puesto de trabajo. Almacenando dicho archivo en la nube nos tenemos que olvidar de mover la información a través de, por ejemplo, un pen drive o de tener una copia en casa y otra en la oficina y andar actualizando ambas cada vez que queramos trabajar. Simplemente entraremos con nuestra cuenta a \textbf{drawercloud} desde cualquier dispositivo y tendremos acceso al archivo en cuestión. Además, proporciona un método para compartir archivos y crear grupos de trabajo, de modo que si sobre ese archivo están trabajando, por ejemplo, 3 personas más, podrán ver las modificaciones que hemos realizado directamente sobre el archivo alojado en el servidor web.

\newpage
\section{Análisis}
\subsection{Estudio de mercado}
Antes de comenzar el desarrollo del proyecto es recomendable realizar un estudio de mercado. Dicho estudio nos ofrecerá una visión de las virtudes y carencias de los productos que actualmente ofrecen un servicio similar y así, saber en que punto nos encontraremos respecto a ellos. Ésto nos dará la ventaja de poder realzar los puntos fuertes de nuestro proyecto frente a la competencia. Veamos algunos ejemplos de aplicaciones que ofrecen el mismo servicio: \\

\hfill\begin{minipage}{\dimexpr\textwidth-1cm}
\subsubsection{Dropbox \cite{cita_dropbox}}
Dropbox es la aplicación para almacenar archivos en la nube posiblemente más conocida y usada, siendo ésta una de las primeras en ofrecernos este tipo de servicios. En su versión gratuita, los usuarios de esta aplicación disponen de 2GB, pero se puede ampliar hasta 16GB realizando algunas sencillas tareas (como subir fotos desde el móvil o recomendar a amigos). Por 9,99 \euro/mes se dispondrá de 1TB de espacio disponible. \textbf{Equipo} y \textbf{Paper} son dos opciones que ofrece Dropbox para trabajar en equipo, siendo éstas dos puntos fuertes de este servicio. También su aplicación de escritorio es un punto muy a favor, dando la posibilidad al usuario de sincronizar sus datos más rápidamente (aunque puede ralentizar el arranque del pc mientras sincroniza). \\
\end{minipage}

\hfill\begin{minipage}{\dimexpr\textwidth-1cm}
\subsubsection{Google Drive \cite{cita_google_drive}}
Como era de esperar, no podía faltar Google en esta lista. En su versión gratuita ofrece 15GB de almacenamiento (sin necesidad de realizar tareas para ampliar como hace dropbox). Para ampliar el espacio, Google Drive ofrece dos posibilidades:
\begin{enumerate}[label=(\alph*)]
	\item 100GB por 1,99 \euro/mes
	\item 1TB por 9,99 \euro/mes
\end{enumerate}
Sin duda, el punto fuerte de Google Drive es la posibilidad de crear archivos (como hojas de texto, hojas de cálculo, formularios, ...) que pueden ser editados por otras personas (si le damos el permiso de compartir) y así trabajar en grupo sobre el mismo documento en la nube, almacenando los cambios automáticamente. \\
\end{minipage}

\hfill\begin{minipage}{\dimexpr\textwidth-1cm}
\subsubsection{Mega \cite{cita_mega}}
Aunque es más conocido por la piratería, Mega es otra de las solucines para alojar archivos en la nube. Ofrece hasta 50GB de forma de gratuita y en caso de querer más espacio, se pueden usar estas alternativas:
\begin{enumerate}[label=(\alph*)]
	\item 500GB por 9,99 \euro/mes
	\item 2TB por 19,99 \euro/mes
	\item 4TB por 29,99 \euro/mes
\end{enumerate}
Además de la enorme cantidad de espacio, el alto ancho de banda que ofrece sería un punto a favor de Mega. \\
\end{minipage}

\hfill\begin{minipage}{\dimexpr\textwidth-1cm}
\subsubsection{OneDrive \cite{cita_onedrive}}
OneDrive es la solución para almacenamiento en la nube propuesta por Microsoft. Viene preinstalado en Windows 10 y eso permite que los documentos y las fotografías se guarden automáticamente en OneDrive. Ofrece también un apartado de empresas para que un grupo de trabajo pueda colaborar sobre los mismos archivos en tiempo real (permite colaborar con Word, Excel, PowerPoint, OneNote).
La versión gratuita de este servicio se ha reducido a 5GB (siendo antes 15GB). Las soluciones de pago son las siguientes:
\begin{enumerate}[label=(\alph*)]
	\item 50GB por 2,00 \euro/mes
	\item 1TB por 7,00 \euro/mes (incluye Office 365 y la opción de instalar en un PC o Mac y en una tablet y un smartphone)
	\item 5TB (1000 GB por usuario) por 10,00 \euro/mes (incluye Office 365 y la opción de instalar en 5 PC o Mac y en 5 tablets y 5 smartphones)
\end{enumerate}
\end{minipage}

\subsection{Objetivos del sistema}
El objetivo principal del sistema es poner a disposición del usuario un espacio de almacenamiento en la nube. En dicho espacio, el usuario tendrá la posibilidad de almacenar información de forma organizada, compartir los archivos deseados y tener accesibilidad a éstos desde cualquier plataforma con un navegador web. \\

Con el fin de ofrecer un sistema fiable a los clientes, este programa deberá cumplir algunas características:
\begin{itemize}
	\item Disponibilidad: los datos del usuario siempre estarán disponibles.
	\item Seguridad: los datos deberán estar alojados en un lugar protegido de posibles amenazas.
	\item Accesibilidad: los datos del usuario siempre estarán disponibles para él y para quien tenga permisos sobre ellos.
\end{itemize}

Visto el objetivo principal, se listan los objetivos específicos a realizar para la realización de esta aplicación web:
\begin{itemize}
	\item \textbf{OBJ-1:} El sistema deberá almacenar los archivos relativos a cada usuario en su espacio disponible.
	\item \textbf{OBJ-2:} El sistema deberá permitir el acceso a la información solo a los usuarios con los permisos necesarios.
	\item \textbf{OBJ-3:} El sistema deberá ser accesible desde todos los dispositivos dotados de navegador web (ordenador, smartphone, tablet, etc).
\end{itemize}

\subsection{Requisitos funcionales del sistema}
En esta sección indicamos qué debe hacer el sistema:

\begin{itemize}
	\item \textbf{RF-1: Gestión de usuarios.} En el sistema realizaremos altas, bajas y modificaciones de los usuarios.
	\begin{itemize}
		\item \textbf{RF-1.1: Alta usuario.} El sistema permite realizar el alta de un usuario.
		\item \textbf{RF-1.2: Baja usuario.} El sistema permite realizar la baja de un usuario.
		\item \textbf{RF-1.3: Modificación usuario.} El sistema permite realizar una modificación de un usuario.
		\item \textbf{RF-1.4: Consulta usuario.} El sistema permite realizar una consulta de un usuario en concreto.
	\end{itemize}
	
	\item \textbf{RF-2: Gestión de archivos.}
	\begin{itemize}
		\item \textbf{RF-2.1: Añadir archivo.} Junto al archivo se añadirá una serie de datos como nombre, fecha de subida, propietario, etc.
		\item \textbf{RF-2.2: Eliminar archivo.} Se eliminará el archivo y toda la información relativa a él.
		\item \textbf{RF-2.3: Visualizar archivo.} Se podrá ver el contenido del archivo que sea posible (como reproducir canciones o ver una imagen).
		\item \textbf{RF-2.4: Descargar archivo.} Descarga el archivo en el dispositivo usado.
		\item \textbf{RF-2.5: Compartir archivo.} Da acceso al archivo (en modo lectura) a otro usuario.
		\item \textbf{RF-2.6: Dejar de compartir archivo.} Retira el acceso al archivo a otro usuario.
		\item \textbf{RF-2.7: Cambiar nombre del archivo.} Permite cambiar el nombre del archivo.
		\item \textbf{RF-2.8: Copiar archivo.} Se creará una copia del archivo.
		\item \textbf{RF-2.9: Mover archivo.} Se moverá el archivo al directorio de destino seleccionado.
		\item \textbf{RF-2.10: Añadir archivo a favoritos.} El archivo pasará a la lista de favoritos.
		\item \textbf{RF-2.10: Eliminar archivo de favoritos.} El archivo dejará la lista de favoritos.
		\item \textbf{RF-2.11: Añadir archivo a mi nube.} El archivo compartido (en modo lectura) pasará a ser un archivo propiedad del usuario.
	\end{itemize}
	
	\item \textbf{RF-3: Gestión de directorios.}
	\begin{itemize}
		\item \textbf{RF-3.1: Añadir directorio.} Junto al directorio se añadirá una serie de datos como nombre, contenido, propietario y directorio padre.
		\item \textbf{RF-3.2: Eliminar directorio.} Se eliminará el directorio y todos los directorios y archivos que contenga.
		\item \textbf{RF-3.3: Visualizar directorio.} Acceder al contenido del directorio.
		\item \textbf{RF-3.4: Cambiar nombre directorio.} Permite cambiar el nombre del directorio.
		\item \textbf{RF-3.5: Copiar directorio.} Se creará una copia del directorio y todo su contenido.
		\item \textbf{RF-3.6: Mover directorio.} Se moverá el directorio y todo su contenido al directorio de destino seleccionado.
	\end{itemize}
	
	\item \textbf{RF-4: Gestión de grupos de trabajo.}
	\begin{itemize}
		\item \textbf{RF-4.1: Añadir grupo de trabajo.} Se añade un grupo con un nombre.
		\item \textbf{RF-4.2: Ver grupo de trabajo.} Visualiza el contenido del grupo de trabajo.
		\item \textbf{RF-4.3: Salir del grupo de trabajo.} Un usuario sale del grupo de trabajo. Cuando el grupo de trabajo queda sin usuarios, se elimina toda la información relativa a él.
		\item \textbf{RF-4.4: Añadir participante al grupo de trabajo.} Se añade un participante al grupo con todos los permisos (subir archivo, eliminar archivo, crear carpeta, añadir participante, etc).
		\item \textbf{RF-4.5: Ver participantes del grupo de trabajo.} Se muestran todos los participantes del grupo.
	\end{itemize}
\end{itemize}

\subsection{Requisitos no funcionales del sistema}
En esta sección se incluyen restricciones que afectarán a los requisitos funcionales:

\begin{itemize}
	\item \textbf{RNF-1: Seguridad de la información.} Ante un posible fallo del sistema, la información previamente almacenada no debería perderse. En principio esto se garantiza, ya que el sistema y la base de datos son entidades relacionadas pero separadas. Sería buena práctica tener en cuenta la posibilidad de realizar copias de seguridad periódicamente o alguna otra alternativa que permita replicar los datos.
	\item \textbf{RNF-2: Concurrencia.} Tanto administradores como usuarios podrán acceder simultáneamente al sistema, introducciendo información, consultándola o eliminándola.
	\item \textbf{RNF-3: Autenticación.} Es necesario controlar el acceso de los usuarios, de manera que cada uno pueda realizar sólo las tareas sobre su espacio.
	\item \textbf{RNF-4: Legales.} Se deben tener en cuenta ciertos criterios de responsabilidad sobre los datos publicados, como que los datos de un usuario no sean accesibles por otro.
	\item \textbf{RNF-5: Rendimiento.} El sistema debe tener un tiempo de respuesta	y aprovechamiento de los recursos óptimo.
\end{itemize}

\subsection{Requisitos de información}
En esta sección se indica la información que es necesaria almacenar en el sistema:

\begin{itemize}
	\item \textbf{RI-1: Usuarios.} Datos sobre las personas que usarán la aplicación.
	\begin{itemize}
			\item \textbf{Contenido:} nombre de usuario, contraseña, dirección de correo electrónico.
			\item \textbf{Requisitos asociados:} RF-1, RNF-1, RNF-3.
	\end{itemize}
	
	\item \textbf{RI-2: Archivos.} Datos sobre los archivos que se alojarán en la aplicación.
	\begin{itemize}
		\item \textbf{Contenido:} archivo, nombre del archivo, tipo del archivo, fecha de subida, propietario, tamaño del archivo, booleano para indicar si es favorito.
		\item \textbf{Requisitos asociados:} RF-2, RNF-1, RNF-3, RNF-4, RNF-5.
	\end{itemize}
	
	\item \textbf{RI-3: Directorios.} Datos sobre los directorios que se alojarán en la aplicación.
	\begin{itemize}
		\item \textbf{Contenido:} nombre del directorio, cotenido del directorio, propietario.
		\item \textbf{Requisitos asociados:} RF-3, RNF-1, RNF-3, RNF-4, RNF-5.
	\end{itemize}
	
	\item \textbf{RI-4: Grupos de trabajo.} Datos sobre los grupos de trabajo de la aplicación.
	\begin{itemize}
		\item \textbf{Contenido:} nombre del grupo de trabajo, usuarios que pertenecen al grupo de trabajo, directorios que pertenecen al grupo de trabajo, archivos que pertenecen al grupo de trabajo.
		\item \textbf{Requisitos asociados:} RF-4, RNF-1, RNF-4, RNF-5.
	\end{itemize}
\end{itemize}

\subsection{Casos de uso}
\subsubsection{Descripción de los actores}
\begin{itemize}
	\item \textbf{DA-1: Usuario.}
	\begin{itemize}
		\item \textbf{Descripción:} Usuario que accede al sistema para gestionar su espacio personal o sus grupos de trabajo.
		\item \textbf{Características:} Conocimientos básicos sobre el manejo de algún dispositivo con navegador web.
		\item \textbf{Relaciones:} La relación con otros usuarios del sistema se da, o bien compartiendo un archivo directamente con el usuario, o bien perteneciendo al mismo grupo de trabajo.
		\item \textbf{Referencias:} Puede consultar la base de datos de sus archivos, directorios, grupos de trabajo, información asociada a su perfil y la ayuda.
	\end{itemize}
\end{itemize}
\subsubsection{Diagramas del modelo de casos de uso}
Los diagramas de casos de uso representan como el usuario se relaciona con el sistema para usar sus funciones. A continuación vemos dichos diagramas:

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{imagenes/casouso_usuario}
	\caption{Diagrama de casos de uso. Gestión de usuarios.}
	\label{fig:casouso_usuario}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{imagenes/casouso_archivo}
	\caption{Diagrama de casos de uso. Gestión de archivos.}
	\label{fig:casouso_archivo}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{imagenes/casouso_directorio}
	\caption{Diagrama de casos de uso. Gestión de archivos.}
	\label{fig:casouso_directorio}
\end{figure}

\begin{figure}[H]
	\centering
	\includegraphics[width=0.7\textwidth]{imagenes/casouso_grupo_trabajo}
	\caption{Diagrama de casos de uso. Gestión de archivos.}
	\label{fig:casouso_grupo_trabajo}
\end{figure}

\subsubsection{Descripción de los casos de uso}
A continuación se exponen los casos de uso principales del sistema, correspondientes a las acciones básicas del usuario con la plataforma, definiendo el comportamiento normal y alternativo de cada acción.

\begin{itemize}
	\item \textbf{CU-1: Alta de un usuario.}
	\begin{itemize}
		\item \textbf{Descripción:} el usuario se registra con sus datos en el sistema.
		\item \textbf{Precondición:} el username no se encuentra registrado en el sistema.
		\item \textbf{Postcondición:} el usuario queda registrado en el sistema con un identificador único.
	\end{itemize}
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{5cm}|p{0.3cm}|p{5cm}|}
			\hline
			\multicolumn{4}{|c|}{Curso normal} \\ \hline
			\multicolumn{2}{|c|}{Actor} & \multicolumn{2}{|c|}{Sistema} \\ \hline
			1 & Usuario: inicia la acción de registro en el sistema. &  &  \\ \hline
			  &  & 2a & Dar de alta al usuario en el sistema. \\ \hline
			  &  & 3 & El usuario queda dado de alta en el sistema y puede empezar a usar la aplicación. \\ \hline
		\end{tabular}
		\caption{Curso normal de CU-1. Alta de usuarios.}
		\label{tabla:cu1-normal}
	\end{table}
	
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{10cm}|}
			\hline
			\multicolumn{2}{|c|}{Curso alterno} \\ \hline
			2b & Si ya existe el usuario o se da algún otro tipo de error, se notifica al usuario y no se produce el registro. \\ \hline
		\end{tabular}
		\caption{Curso alterno de CU-1. Alta de usuarios.}
		\label{tabla:cu1-alterno}
	\end{table}
\end{itemize}

\begin{itemize}
	\item \textbf{CU-2: Identificación de usuarios.}
	\begin{itemize}
		\item \textbf{Descripción:} el usuario accede al sistema con su username y contraseña.
		\item \textbf{Precondición:} el usuario debe estar registrado.
		\item \textbf{Postcondición:} el usuario inicia sesión en el sistema.
	\end{itemize}
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{5cm}|p{0.3cm}|p{5cm}|}
			\hline
			\multicolumn{4}{|c|}{Curso normal} \\ \hline
			\multicolumn{2}{|c|}{Actor} & \multicolumn{2}{|c|}{Sistema} \\ \hline
			1 & Usuario: inicia sesión. &  &  \\ \hline
			&  & 2a & Comenzar la sesión para el usuario. \\ \hline
			&  & 3 & El usuario puede empezar a usar la aplicación. \\ \hline
		\end{tabular}
		\caption{Curso normal de CU-2. Identificación de usuarios.}
		\label{tabla:cu2-normal}
	\end{table}
	
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{10cm}|}
			\hline
			\multicolumn{2}{|c|}{Curso alterno} \\ \hline
			2b & Si el usuario no coincide o la contraseña es incorrecta, se notifica al usuario y no se inicia sesión. \\ \hline
		\end{tabular}
		\caption{Curso alterno de CU-2. Identificación de usuarios.}
		\label{tabla:cu2-alterno}
	\end{table}
\end{itemize}

\begin{itemize}
	\item \textbf{CU-3: Subir archivo.}
	\begin{itemize}
		\item \textbf{Descripción:} el usuario añade un archivo a su espacio.
		\item \textbf{Precondición:} el usuario ha iniciado sesión en el sistema.
		\item \textbf{Postcondición:} el archivo se añade a la cuenta del usuario.
	\end{itemize}
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{5cm}|p{0.3cm}|p{5cm}|}
			\hline
			\multicolumn{4}{|c|}{Curso normal} \\ \hline
			\multicolumn{2}{|c|}{Actor} & \multicolumn{2}{|c|}{Sistema} \\ \hline
			1 & Usuario: selecciona un archivo para subir. &  &  \\ \hline
			&  & 2a & El archivo se almacena en la cuenta del usario y en el directorio desde el que el usuario se encuentre. \\ \hline
			&  & 3a & El archivo queda almacenado y vinculado a la cuenta del usuario. \\ \hline
		\end{tabular}
		\caption{Curso normal de CU-3. Subir archivo.}
		\label{tabla:cu3-normal}
	\end{table}
	
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{10cm}|}
			\hline
			\multicolumn{2}{|c|}{Curso alterno} \\ \hline
			2b & Si en la subida del archivo se produce un error, se notifica al usuario y no se continua. \\ \hline
			3b & Si se trata de un archivo multimedia (música, imagen, vídeo) se añadirá a uno de los apartados disponibles en la sección Multimedia (Música, Imágenes, Vídeo). \\ \hline
		\end{tabular}
		\caption{Curso alterno de CU-3. Subir archivo.}
		\label{tabla:cu3-alterno}
	\end{table}
\end{itemize}

\begin{itemize}
	\item \textbf{CU-4: Visualizar archivo.}
	\begin{itemize}
		\item \textbf{Descripción:} el usuario selecciona un archivo para mostrar.
		\item \textbf{Precondición:} el usuario ha iniciado sesión en el sistema.
		\item \textbf{Postcondición:} se muestra el archivo según el formato.
	\end{itemize}
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{5cm}|p{0.3cm}|p{5cm}|}
			\hline
			\multicolumn{4}{|c|}{Curso normal} \\ \hline
			\multicolumn{2}{|c|}{Actor} & \multicolumn{2}{|c|}{Sistema} \\ \hline
			1 & Usuario: selecciona un archivo para mostrar. &  &  \\ \hline
			&  & 2a & El archivo seleccionado se muestra según el tipo de contenido del archivo (reproducir si es canción, mostrar si es imagen, ...). \\ \hline
			&  & 3 & El archivo queda visualizado. \\ \hline
		\end{tabular}
		\caption{Curso normal de CU-4. Visualizar archivo.}
		\label{tabla:cu4-normal}
	\end{table}
	
	\begin{table}[H]
		\centering
		\begin{tabular}{|p{0.3cm}|p{10cm}|}
			\hline
			\multicolumn{2}{|c|}{Curso alterno} \\ \hline
			2b & Si el archivo no se puede mostrar o reproducir, automáticamente dará la opción de Descargar. \\ \hline
		\end{tabular}
		\caption{Curso alterno de CU-4. Visualizar archivo.}
		\label{tabla:cu4-alterno}
	\end{table}
\end{itemize}


\newpage
\bibliography{citas} %archivo citas.bib que contiene las entradas 
\bibliographystyle{ieeetr} % hay varias formas de citar

\end{document}